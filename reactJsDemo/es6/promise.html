<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Promise实例</title>
</head>
<script src="jquery.js"></script>
<script>
    let p1 = new Promise(function (resolve, reject) {
        $.ajax({
            url: 'data/1.txt',
            dataType: 'json',
            success(data){ // 成功
                resolve(data);
            },
            error(errMsg){ // 失败
                reject(errMsg);
            }
        })
    });

    let p2 = new Promise(function(resolve, reject){
        $.ajax({
            url: 'data/2.txt',
            dataType: 'json',
            success(data){
                resolve(data)
            },
            error(errMsg){
                reject(errMsg)
            }
        })
    });

    Promise.all([p1, p2]).then(
        data => {
            let [r1, r2] = data;
        },
        errMsg=>{
            alert('失败了！');
        }
    )

</script>
<body>

</body>
</html>